<html>
<head>
  <title>Week 7: Updated MEI file</title>
  <link rel="stylesheet" href="../css/myMeta.css">
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/myMeta.css" media="all" />
  <link rel="stylesheet" href="css/style.css" media="all" />
  <script src="js/CETEI.js"></script>
</head>
<body>
  <div class="navbar">
       <ul>
        <li><a href="https://github.com/Amadeusz-Bz/MCA-2021">MCA 2021 GitHub</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week1/Task1.html">Week 1</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/verovio.html">Weeks 2 & 3</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week4/Task4.html">Week 4</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week5/Task5.html">Week 5</a></li>
        <li><a class="active" href="https://amadeusz-bz.github.io/MCA-2021/myMeta.html">Week 7</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week8/Task8.html">Week 8</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week9/Task9.html">Week 9</a></li>
        <li><a href="https://amadeusz-bz.github.io/MCA-2021/Week10/Task10.html">Week 10</a></li>
      </ul>
    </div>
  <div class="center">
    <h1>Task 7: Challenges to music curation and updated MEI file.</h1><br><br><br>
    <p>For the week 7 task I have updated my MEI file for "Hediwg's Theme" to better reflect more encompassing MEI encoding standards, and have rendered it below using Verovio,
alongside most important metadata from the MEI file.
<br><br>
      <p><b>Original MEI file can be accessed here: <a href="https://github.com/Amadeusz-Bz/MCA-2021/blob/master/data/Hedwigs_Theme_MEI_Updated.mei">MEI FILE</a></b>
        <br><br>
        <hr style="height:5px;border-width:0;color:gray;background-color:gray">
  <div id="MEImeta"></div>
  <div id="app">Verovio is loading...</div>
  <script type="module">
      import 'https://www.verovio.org/javascript/app/verovio-app.js';
      const options = {
          defaultView: 'responsive', // default is 'responsive', alternative is 'document'
          defaultZoom: 3, // 0-7, default is 4
          enableResponsive: true, // default is true
          enableDocument: true // default is true
      }
      // A MusicXML file
      var file = 'data/Hedwigs_Theme_MEI_Updated.mei';
      // A MEI file
      //var file = 'https://www.verovio.org/editor/brahms.mei';
      const app = new Verovio.App(document.getElementById("app"), options);
      fetch(file)
          .then(function(response) {
              return response.text();
          })
          .then(function(text) {
              app.loadData(text);
          });
  </script>
  <script>
    // Get, parse, and show TEI data
    var CETEIcean = new CETEI()
    CETEIcean.getHTML5("data/example.xml", function(data) {
      document.getElementById("TEI").appendChild(data)
    })
    // Get, parse and show MEI header data
    var CETEI4MEI = new CETEI()
    CETEI4MEI.addBehaviors({
      namespaces: {
        mei: "http://www.music-encoding.org/ns/mei"
      }
    })
    CETEI4MEI.getHTML5("data/Hedwigs_Theme_MEI_Updated.mei", function(data) {
      // get header
      var meiHead = data.querySelector('mei-meiHead')
      document.getElementById("MEImeta").appendChild(meiHead)
    })
    var vrvToolkit = new verovio.toolkit()
    vrvToolkit.setOptions(options = {
        pageHeight: 500,
        pageWidth: 1000,
        ignoreLayout: 1,
        border: 20,
        scale: 50,
        adjustPageHeight: true
    })
    fetch("data/Hedwigs_Theme_MEI_Updated.mei").then(function( response ) {
        response.text().then(function( data ) {
          var svg = vrvToolkit.renderData(data, {})
          document.getElementById('MEI').innerHTML = svg
        })
    })
  </script>
  </div>
</body>
  <div class="center">
<footer><p>Score rendering provided by <a href="http://www.verovio.org">Verovio</a>. Metadata rendered by <a href="https://github.com/TEIC/CETEIcean/"> CETEIcean</a>.</p></footer>
  </div>
    </html>
